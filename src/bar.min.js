"use strict";function BarChart(a,b,c,d){let e=this;e.configureChart(a,b,c,d),e.performOperations()}BarChart.prototype.configureChart=function(a,b,c,d){let e=this;e.setCanvasParameters(a,b,c,d),e.setChartParameters()},BarChart.prototype.setCanvasParameters=function(a,b,c,d){let e=this;e.id=a,e.width=b,e.height=c,e.data=d},BarChart.prototype.setChartParameters=function(){let a=this;a.axisRatio=10,a.verticalMargin=a.height*a.axisRatio/100,a.horizontalMargin=a.width*a.axisRatio/100,a.axisColor="#b1b1b1",a.axisWidth=.75,a.fontRatio=3,a.fontFamily="times",a.fontStyle="normal",a.fontWeight=300,a.fontColor="#666",a.verticalFontSize=a.height*a.fontRatio/100,a.horizontalFontSize=a.width*a.fontRatio/100,a.guidelineColor="#e5e5e5",a.guidelineWidth=.5},BarChart.prototype.performOperations=function(){let a=this;a.createCanvas(),a.handleData(),a.prepareData(),a.drawChart()},BarChart.prototype.createCanvas=function(){let a=this,b=document.createElement("canvas");b.id=`${a.id}-${Math.random()}`,b.width=a.width,b.height=a.height,document.getElementById(a.id).innerHTML="",document.getElementById(a.id).appendChild(b),a.canvas=b,a.context=b.getContext("2d")},BarChart.prototype.handleData=function(){let a=this;a.labels=[],a.values=[],a.data.forEach(b=>{a.labels.push(b.label),a.values.push(b.value)})},BarChart.prototype.prepareData=function(){let a=this;a.itemsNum=a.data.length,a.maxValue=Math.max.apply(null,a.values),a.minValue=Math.min.apply(null,a.values),a.verticalAxisWidth=a.height-2*a.verticalMargin,a.horizontalAxisWidth=a.width-2*a.horizontalMargin,a.verticalUpperBound=10*Math.ceil(a.maxValue/10),a.verticalLabelFrequency=a.verticalUpperBound/a.itemsNum,a.horizontalLabelFrequency=a.horizontalAxisWidth/a.itemsNum},BarChart.prototype.drawChart=function(){let a=this;a.drawVerticalAxis(),a.drawVerticalLabels(),a.drawVerticalGuidelines(),a.drawHorizontalAxis(),a.drawHorizontalLabels(),a.drawHorizontalGuidelines(),a.drawBars()},BarChart.prototype.drawVerticalAxis=function(){let a=this;a.context.beginPath(),a.context.strokeStyle=a.axisColor,a.context.lineWidth=a.axisWidth,a.context.moveTo(a.horizontalMargin,a.verticalMargin),a.context.lineTo(a.horizontalMargin,a.height-a.verticalMargin),a.context.stroke()},BarChart.prototype.drawVerticalLabels=function(){let a=this;a.labelFont=`${a.fontStyle} ${a.fontWeight} ${a.verticalFontSize}px ${a.fontFamily}`,a.context.font=a.labelFont,a.context.textAlign="right",a.context.fillStyle=a.fontColor;let b=a.verticalAxisWidth/a.verticalUpperBound*a.verticalLabelFrequency;for(let c=0;c<=a.itemsNum;c++){let d=a.verticalUpperBound-c*a.verticalLabelFrequency,e=a.horizontalMargin-a.horizontalMargin/a.axisRatio,f=a.verticalMargin+c*b;a.context.fillText(d,e,f)}},BarChart.prototype.drawVerticalGuidelines=function(){let a=this;a.context.strokeStyle=a.guidelineColor,a.context.lineWidth=a.guidelineWidth;for(let b=0;b<=a.itemsNum;b++){let c=a.horizontalMargin+b*a.horizontalLabelFrequency,d=a.height-a.verticalMargin,e=a.horizontalMargin+b*a.horizontalLabelFrequency,f=a.verticalMargin;a.context.beginPath(),a.context.moveTo(c,d),a.context.lineTo(e,f),a.context.stroke()}},BarChart.prototype.drawHorizontalAxis=function(){let a=this;a.context.beginPath(),a.context.strokeStyle=a.axisColor,a.context.lineWidth=a.axisWidth,a.context.moveTo(a.horizontalMargin,a.height-a.verticalMargin),a.context.lineTo(a.width-a.horizontalMargin,a.height-a.verticalMargin),a.context.stroke()},BarChart.prototype.drawHorizontalLabels=function(){let a=this;a.labelFont=`${a.fontStyle} ${a.fontWeight} ${a.verticalFontSize}px ${a.fontFamily}`,a.context.font=a.labelFont,a.context.textAlign="center",a.context.textBaseline="top",a.context.fillStyle=a.fontColor;for(let b=0;b<a.itemsNum;b++){let c=a.horizontalMargin+b*a.horizontalLabelFrequency+a.horizontalLabelFrequency/2,d=a.height-a.verticalMargin+a.verticalMargin/a.axisRatio;a.context.fillText(a.labels[b],c,d)}},BarChart.prototype.drawHorizontalGuidelines=function(){let a=this;a.context.strokeStyle=a.guidelineColor,a.context.lineWidth=a.guidelineWidth;let b=a.verticalAxisWidth/a.verticalUpperBound*a.verticalLabelFrequency;for(let c=0;c<=a.itemsNum;c++){let d=a.horizontalMargin,e=a.verticalMargin+c*b,f=a.horizontalMargin+a.horizontalAxisWidth,g=a.verticalMargin+c*b;a.context.beginPath(),a.context.moveTo(d,e),a.context.lineTo(f,g),a.context.stroke()}},BarChart.prototype.drawBars=function(){let a=this;for(let b=0;b<a.itemsNum;b++){let c=a.createRandomColor(),d=`rgba(${c.r}, ${c.g}, ${c.b}, ${.3})`,e=`rgba(${c.r}, ${c.g}, ${c.b}, 1)`;a.context.beginPath();let f=a.horizontalMargin+b*a.horizontalLabelFrequency+a.horizontalLabelFrequency/a.axisRatio,g=a.height-a.verticalMargin,h=a.horizontalLabelFrequency-2*a.horizontalLabelFrequency/a.axisRatio,i=-1*a.verticalAxisWidth*a.values[b]/a.maxValue;a.context.fillStyle=d,a.context.strokeStyle=e,a.context.rect(f,g,h,i),a.context.stroke(),a.context.fill()}},BarChart.prototype.createRandomColor=function(){let a=getRandomInt(0,257),b=getRandomInt(0,257),c=getRandomInt(0,257);return{r:a,g:b,b:c}};